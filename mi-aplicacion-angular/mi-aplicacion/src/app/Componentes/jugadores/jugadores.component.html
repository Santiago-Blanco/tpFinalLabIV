<div class="playersContainer">
  <ul>
    <li>
      <button class="favorite-button" [routerLink]="['/favourite-list-pla']" routerLinkActive="active">Lista de favoritos</button>
    </li>
  </ul>

  <div class="search-container">
    <input type="text" id="search-input" placeholder="Buscar jugadores..." (input)="filterPlayers($event)">
    <ul id="results-list" class="results-list"></ul>
  </div>

  <ul>
    <li *ngFor="let player of playersList" class="player-item">
      <div class="player-name" (click)="showAtributes(player)" style="cursor: pointer;">
        {{ player.first_name + ' ' + player.last_name }}
      </div>

      <div *ngIf="select==player && atribute" >

        <div *ngIf="seasonAverages && seasonAverages.data && seasonAverages.data.length > 0 else noData" >
          <h3>Ultima Temporada: {{ seasonAverages.data[0].season || "------------------" }}</h3>
          <p><strong>Partidos jugados:</strong> {{ seasonAverages.data[0].games_played|| "------------------" }}</p>
          <p><strong>Minutos:</strong> {{ seasonAverages.data[0].min||"------------------" }}</p>
          <p><strong>Puntos:</strong> {{ seasonAverages.data[0].pts|| "------------------" }}</p>
          <p><strong>Asistencias:</strong> {{ seasonAverages.data[0].ast|| "------------------" }}</p>
          <p><strong>Rebotes:</strong> {{ seasonAverages.data[0].reb|| "------------------" }}</p>
          <p><strong>Bloqueos:</strong> {{ seasonAverages.data[0].stl|| "------------------" }}</p>
        </div>

        <ng-template #noData>
          <h3>Ultima Temporada: ------------------</h3>
          <p><strong>Partidos jugados:</strong> ------------------</p>
          <p><strong>Minutos:</strong> ------------------</p>
          <p><strong>Puntos:</strong> ------------------</p>
          <p><strong>Asistencias:</strong>------------------</p>
          <p><strong>Rebotes:</strong> ------------------</p>
          <p><strong>Bloqueos:</strong> ------------------</p>
        </ng-template>

  
          <p><strong>Posición:</strong> {{player.position || "------------------"}}</p>
          <p><strong>Altura en pies:</strong> {{player.height_feet || "------------------"}}</p>
          <p><strong>Altura en pulgadas:</strong> {{player.height_inches || "------------------"}}</p>
          <p><strong>Peso en libras:</strong> {{player.weight_pounds || "------------------"}}</p>
          <p><strong>Equipo:</strong> {{player.team.full_name || "------------------"}}</p>
          <p><strong>Ciudad:</strong> {{player.team.city || "------------------"}}</p>
          <p><strong>Conferencia:</strong> {{player.team.conference || "------------------"}}</p>
          <p><strong>División:</strong> {{player.team.division || "------------------"}}</p>
          <p><strong>Nombre:</strong> {{player.team.name || "------------------"}}</p>
        </div>
      

      <ng-container *ngIf="searchPlayer(player); else notFavoriteImage">
        <img src="../../../assets/EstrellaBlanca.jpg" alt="Agregar lista de favoritos" class="botonfav" (click)="addRemovePlayerList(player)">
      </ng-container>
      <ng-template #notFavoriteImage>
        <img src="../../../assets/EstrellaNegra.jpg" alt="No en lista de favoritos" class="botonfav" (click)="addRemovePlayerList(player)">
      </ng-template>
    </li>
  </ul>

  <div class="backNextContainer">
    <button class="back" (click)="backPage()" *ngIf="!isFirstPage"> Back</button>
    <button class="next" (click)="nextPage()" *ngIf="!isLastPage">Next</button>
  </div>
</div>
